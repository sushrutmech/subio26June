<section class="homeContainer my-libraryContainer">
  <mat-tab-group mat-align-tabs="start">
    <mat-tab>
      <ng-template mat-tab-label>
        <span class="homeLabel">Home</span>
      </ng-template>
      <div class="container containerImg1">
        <div class="row">
          <div class="fWrapper">
            <div class="child1">
              <div class="clock">
                <strong>{{programInstance.dateStart | date : 'MMM'}}-{{programInstance.dateStart | date :
                  'YYYY'}}</strong>
              </div>
              <div class="clock2">
                <div class="date">


                  <span>{{programInstance.dateStart | date : 'd'}}</span>

                </div>
                <div class="day">
                  <em>{{programInstance.dateStart | date : 'EEEE'}}</em>

                </div>

              </div>

              <div class="timing">
                <div class="timerContainer">
                  <div class="days">
                    <div id="h" class="times">15</div>
                    <div id="calender">Days</div>
                  </div>
                  <div class="days">
                    <div id="m" class="times">15</div>
                    <div id="calender">Hours</div>
                  </div>
                  <div class="days">
                    <div id="s" class="times">15</div>
                    <div id="calender">Minutes</div>
                  </div>
                </div>

              </div>


            </div>
            <div class="child2">
              <div class="heading">
                {{programInstance.programName}}
              </div>
              <div class="para">
                "If you’re bored with life – you don’t get up every morning with a burning desire to do things – you
                don’t
                have enough goals."
              </div>
              <div class="timing1">
                {{programInstance.dateStart | date : 'hh:mma'}} to {{programInstance.dateEnd | date : 'hh:mma'}}
              </div>
              <div class="btnJoin">
                Join Now
              </div>
            </div>
            <div class="child3">
              <div>
                <img class="profileImage" [src]="'data:image/png;base64,' + programInstance.tutorProfilePic"
                  onerror="this.src = '../../../../assets/img/dummy-profile.png'">
              </div>
              <div class="nameCoach" *ngIf="programInstance">


                {{programInstance.tutorName}}

              </div>
              <div class="coachHeading">
                YOUR COACH

              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- carousel component is herer ................................ -->

      <div class="container container3">
        <app-carousel-container></app-carousel-container>
      </div>
      <div class="container container2">
        <div class="row">
          <div class="myGoalContainer d-flex justify-content-between">
            <div class="container2HeaderText">
              MY GOALS
            </div>
            <div>
              <button mat-raised-button color="primary" routerLink="/key-to-success/goal">Add New Goal </button>
            </div>
          </div>
          <div class="goalContainer">
            <mat-tab-group>

              <mat-tab label="All Goals">

                <div class="allGoalList" *ngIf="isDataLoaded">

                  <div class="" *ngIf="successGoalList.length > 0">

                    <mat-card *ngFor="let item of successGoalList">

                      <div class="row">
                        <div class="col-8">
                          <div class="goal-header">
                            <span>Success Goal</span>
                          </div>
                        </div>
                        <div class="col-4">
                          <div class="goal-header">
                            <span>Last assessment</span>
                          </div>
                        </div>
                      </div>
                      <div class="row" >

                        <mat-card-title class="d-flex justify-content-between">
                          <div class="d-flex gap-1">
                            <div class="titleCard">
                              Goals
                            </div>
                            <div class="progressStatusCard">
                              In Progress
                            </div>
                          </div>
                          <div>
                            <img src="../../../assets/images/Vector.svg" alt="" srcset="">
                          </div>
                        </mat-card-title>

                        <mat-card-subtitle class="titleText">
                          <div class="col-8">
                            <div class="goal-item d-flex align-items-top" [class.active]="item === selectedSuccessGoal"
                              (click)="setSuccessGoal(item)">
                              <img [src]="item.icon | appImage" *ngIf="item.icon" class="mr-1" />
                              <span>{{item.goal}}</span>
                            </div>
                          </div>
                          <div class="col-4">
                            <div class="goal-item-value" [class.active]="item === selectedSuccessGoal"
                              (click)="setSuccessGoal(item)">
                              <span>{{item.dateTakenDescription}}</span>
                            </div>
                          </div>
                        </mat-card-subtitle>
                      </div>

                    </mat-card>
                  </div>

                </div>

              </mat-tab>



              <mat-tab label="MyGoals">

                <mat-card  *ngFor="let item of MyGoalList">

                  <div class="listMayGoals">

                    <mat-card-title class="d-flex justify-content-between">
                      <div class="d-flex gap-1">
                        <div class="titleCard">
                          My Goal
                        </div>
                        <div class="progressStatusCard">
                          In Progress
                        </div>

                      </div>
                      <div>
                        <img src="../../../../assets/images/Vector.svg" alt="" srcset="">
                      </div>
                    </mat-card-title>
                    <mat-card-subtitle class="titleText">
                      <div class="">
                        {{item.goal}}
                      </div>

                      <div> {{item.goalDescription}}</div>
                      
                    </mat-card-subtitle>

                  </div>

                </mat-card>
              </mat-tab>

              <mat-tab label="My Team Goals">

                <mat-card *ngFor="let item of teamGoalList">


                  <div class="teamGoalList">

                    <mat-card-title class="d-flex justify-content-between">
                      <div class="d-flex gap-1">
                        <div class="titleCard">
                          My Team Goals
                        </div>
                        <div class="progressStatusCard">
                          In Progress
                        </div>
                      </div>
                      <div>
                        <img src="../../../../assets/images/Vector.svg" alt="" srcset="">
                      </div>
                    </mat-card-title>
                    <mat-card-subtitle class="titleText">
                      <div class="">
                        {{item.goal}}
                      </div>

                      <div> {{item.goalDescription}}</div>
                  
                    </mat-card-subtitle>

                  </div>


                </mat-card>
              </mat-tab>


              <mat-tab label="My BusinessGoals">
                <mat-card *ngFor="let item of BusinessGoalList">

                  <div class="businessGoalList">

                    <mat-card-title class="d-flex justify-content-between">
                      <div class="d-flex gap-1">
                        <div class="titleCard">
                          My BusinessGoals
                        </div>
                        <div class="progressStatusCard">
                          In Progress
                        </div>
                      </div>
                      <div>
                        <img src="../../../../assets/images/Vector.svg" alt="" srcset="">
                      </div>
                    </mat-card-title>
                    <mat-card-subtitle class="titleText">
                      <div class="">
                        {{item.goal}}
                      </div>

                      <div> {{item.goalDescription}}</div>
                      
                    </mat-card-subtitle>

                  </div>



                </mat-card>
              </mat-tab>
            </mat-tab-group>
          </div>
        </div>
      </div>
      <div class="container container3">
        <div class="row">
          <div class="myGoalContainer d-flex justify-content-between">
            <div class="container2HeaderText" routerLink="/my-library">
              MY LIBRARY
            </div>
          </div>
          <div class="goalContainer">
            <mat-tab-group>

              <mat-tab label="Reading List">

                <app-view-content *ngIf="isWatchVideo" [selectedContent]="selectedContent"
                  (onRequestClose)="handleContentViewerClose($event)">
                </app-view-content>

                <div class="row mt-3 cardGap" *ngIf="!isWatchVideo">
                  <div class="h-310px col-12  pr-lg-1 pl-0 " *ngIf="readingList?.length>0">
                    <div *ngFor="let item of readingList" class="h-100 pr-2 py-1 pl-0"
                      [ngClass]="{
                'col-xl-3 col-md-4 col-sm-6 col-12': readingList.length <= 6, 'min-width-230px' : readingList.length > 6}">
                      <div class=" h-100 card library-card mh-fit-content mb-2 ">
                        <div class="card-body text-center">
                          <div class="card-header border-0  bg-white p-0 overlay mb-2 overlay min-height-140px">

                            <div class="overlay-content">
                              <div class="round-button" (click)="handleWatchVideo(item)">
                                <i class="fa fa-play fa-2x pl-1" aria-hidden="true"
                                  *ngIf="item.contentTypeName=='Video'"></i>
                                <i class="fa fa-file-pdf-o fa-2x" aria-hidden="true"
                                  *ngIf="item.contentTypeName== 'PDF Document'"></i>
                              </div>
                            </div>
                            <img [src]="'data:image/png;base64,'+ item.contentImage" class="suggested-image"
                              onerror="this.src='../../../../assets/img/default-image.png'">
                          </div>
                          <div style="padding: 4px 8px;">

                            <button class="btn px-0" (click)="handleWatchVideo(item)">
                              <h5 class="card-title text-dark line-clamp">{{item.contentName}}</h5>
                            </button>
                            <div class="text-uppercase">{{item.timetoViewDescription}} to {{item.contentTypeName
                              =='video'
                              ? 'watch' : 'read'}}</div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="pr-lg-1 d-lg-block " *ngIf="readingList?.length==0">
                    <div class="col" *ngIf="isDataLoaded">
                      <span class="text-muted">Nothing in your reading list</span>
                    </div>
                  </div>
                </div>



              </mat-tab>

              <mat-tab label="Suggested Viewing">

                <div class="d-flex justify-content-between cardGap">
                  <div>
                    <mat-card class="example-card">
                      <img width="100px" height="200px" mat-card-image
                        src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">
                      <div class="statusBar">Continue Reading</div>
                      <div>
                        <div class="cardTitle">K2A SUCCESS CHARTER </div>
                        <div class="d-flex justify-content-start mt-1 mb-1">

                          <!-- <star-rating class="ratingContainer" [starType]="'svg'" [rating]="3">
                          </star-rating> -->

                          <span class="ratingNumber">
                            (5432)
                          </span>
                        </div>
                      </div>
                      <mat-card-content>
                        <p class="cardPara">
                          A warm welcome to Subio from John, the Founder and CEO of Subio. Let's start with a bit of
                          background to how the Key to Success was born and what to expect during this programme.
                        </p>
                      </mat-card-content>
                      <mat-card-actions class="d-flex justify-content-center">
                        <button class="cardBtn" mat-flat-button>Continue Watching</button>
                      </mat-card-actions>
                    </mat-card>
                  </div>
                  <div>
                    <mat-card class="example-card">
                      <img width="100px" height="200px" mat-card-image
                        src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">
                      <div class="statusBar">Continue Reading</div>
                      <div>
                        <div class="cardTitle">K2A SUCCESS CHARTER </div>
                        <div class="d-flex justify-content-start mt-1 mb-1">
                          <!-- 
                          <star-rating class="ratingContainer" [starType]="'svg'" [rating]="3">
                          </star-rating>
                           -->
                          <span class="ratingNumber">
                            (5432)
                          </span>
                        </div>
                      </div>
                      <mat-card-content>
                        <p class="cardPara">
                          A warm welcome to Subio from John, the Founder and CEO of Subio. Let's start with a bit of
                          background to how the Key to Success was born and what to expect during this programme.
                        </p>
                      </mat-card-content>
                      <mat-card-actions class="d-flex justify-content-center">
                        <button class="cardBtn" mat-flat-button>Continue Watching</button>
                      </mat-card-actions>
                    </mat-card>
                  </div>
                  <div>
                    <mat-card class="example-card">
                      <img width="100px" height="200px" mat-card-image
                        src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">
                      <div class="statusBar">Continue Reading</div>
                      <div>
                        <div class="cardTitle">K2A SUCCESS CHARTER </div>
                        <div class="d-flex justify-content-start mt-1 mb-1">
                          <!-- 
                          <star-rating class="ratingContainer" [starType]="'svg'" [rating]="3">
                          </star-rating>
                           -->
                          <span class="ratingNumber">
                            (5432)
                          </span>
                        </div>
                      </div>
                      <mat-card-content>
                        <p class="cardPara">
                          A warm welcome to Subio from John, the Founder and CEO of Subio. Let's start with a bit of
                          background to how the Key to Success was born and what to expect during this programme.
                        </p>
                      </mat-card-content>
                      <mat-card-actions class="d-flex justify-content-center">
                        <button class="cardBtn" mat-flat-button>Continue Watching</button>
                      </mat-card-actions>
                    </mat-card>
                  </div>
                  <div>
                    <mat-card class="example-card">
                      <img width="100px" height="200px" mat-card-image
                        src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">
                      <div class="statusBar">Continue Reading</div>
                      <div>
                        <div class="cardTitle">K2A SUCCESS CHARTER </div>
                        <div class="d-flex justify-content-start mt-1 mb-1">
                          <!-- <star-rating class="ratingContainer" [starType]="'svg'" [rating]="3">
                          </star-rating> -->
                          <span class="ratingNumber">
                            (5432)
                          </span>
                        </div>
                      </div>
                      <mat-card-content>
                        <p class="cardPara">
                          A warm welcome to Subio from John, the Founder and CEO of Subio. Let's start with a bit of
                          background to how the Key to Success was born and what to expect during this programme.
                        </p>
                      </mat-card-content>
                      <mat-card-actions class="d-flex justify-content-center">
                        <button class="cardBtn" mat-flat-button>Continue Watching</button>
                      </mat-card-actions>
                    </mat-card>
                  </div>
                </div>

              </mat-tab>

              <mat-tab label="Past Viewing">

                <app-view-content *ngIf="isWatchVideo" [selectedContent]="selectedContent"
                  (onRequestClose)="handleContentViewerClose($event)">
                </app-view-content>

                <div class="row cardGap" *ngIf="!isWatchVideo">



                  <div class="col-sm-12 pl-0">

                    <div class="text-md-left text-center py-3">
                      <span class="font-lg text-uppercase">PAST VIEWING
                      </span>
                    </div>

                    <div class="row overflow-auto pr-1  h-330px" *ngIf="readingHistory?.length>0">
                      <div *ngFor="let item of readingHistory" class=" toViewCont col-sm-12 h-100 pr-2 py-1 pl-0"
                        [ngClass]="{'col-xl-3 col-md-4 col-sm-6 col-12': readingList?.length <= 6, 'min-width-230px' : readingList?.length > 6}">

                        <div class="card library-card mr-lg-2 mr-sm-1 w-100 h-310px">
                          <div class="card-body text-center ">
                            <div class="card-header border-0  bg-white p-0 overlay mb-2 overlay min-height-140px">

                              <div class="overlay-content">
                                <div class="round-button" (click)="handleWatchVideoo(item)">
                                  <i class="fa fa-play fa-2x pl-1" aria-hidden="true"
                                    *ngIf="item.contentTypeName=='Video'"></i>
                                  <i class="fa fa-file-pdf-o fa-2x" aria-hidden="true"
                                    *ngIf="item.contentTypeName== 'PDF Document'"></i>
                                </div>
                              </div>
                              <img [src]="'data:image/png;base64,'+ item.contentImage" class="suggested-image"
                                onerror="this.src='./assets/img/default-image.png'">
                            </div>
                            <div style="padding: 4px 8px;">
                              <button class="btn px-0" (click)="handleWatchVideoo(item)">
                                <h5 class="card-title text-dark line-clamp">{{item.contentName}}</h5>
                              </button>

                              <div class="m-0 d-flex align-items-center">
                                <!-- <rating [(ngModel)]="item.avgRating" class="rgb(255,192,0)" [max]="item.avgRating"
                                        [readonly]="true">
                                    </rating> -->
                                <star-rating [value]="item.avgRating" [totalstars]="getRoundedValue(item.avgRating)"
                                  checkedcolor="rgb(255,192,0)" uncheckedcolor="white" size="24px" [readonly]="true">
                                </star-rating>
                                <span class="ml-1 mt-1" *ngIf="item.avgRating>0">{{item.avgRating}}</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>



                    <div class="overflow-auto pr-lg-1 d-lg-block d-block d-sm-flex" *ngIf="readingHistory?.length==0">
                      <div>
                        <span class="text-muted">Nothing in your past reading list</span>
                      </div>

                    </div>

                  </div>

                </div>

              </mat-tab>

            </mat-tab-group>
          </div>
        </div>
      </div>




    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
        <span class="goalLabel">My Goals</span>
      </ng-template>

      <div class="container container2">
        <div class="row">
          <app-key-success-container></app-key-success-container>



          <!-- <div>
            <div class="col-lg-8">
              <app-success-key-lock [userSuccessID]="selectedSuccessGoal.userSuccessID"></app-success-key-lock>


            </div>
            <div class="col-lg-4">

            </div>
          </div> -->




        </div>
      </div>
    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
        <span class="libraryLabel">My Library</span>
      </ng-template>
      <app-my-library-container></app-my-library-container>



    </mat-tab>
  </mat-tab-group>



</section>


<!-- <app-carousel-container></app-carousel-container> -->

<!-- <div>
  <div class="col-lg-8">
    <app-success-key-lock [userSuccessID]="selectedSuccessGoal.userSuccessID"></app-success-key-lock>


  </div>
  <div class="col-lg-4">

  </div>
</div> -->

<!-- <app-success-key-lock [userSuccessID]="selectedSuccessGoal.userSuccessID"></app-success-key-lock>     -->